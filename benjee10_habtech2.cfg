///////////// After 1.0 release
//	Common configs for all parts
@PART[ht2_CBM_active1|ht2_CBM_active2|ht2_BEAM|ht2_bishop|ht2_orb]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	// Multiple rescaleFactor exist on some of the original parts. Remove them first
	!rescaleFactor,* = DEL
	%rescaleFactor = 1.81 // Cupola has a different scale, set in later patch
	@maxTemp = 1073.15
	@skinMaxTemp = 1073.15
}

@PART[ht2_CBM_active1|ht2_CBM_active2]:FOR[RealismOverhaul]
{
	@mass = 0.2
	@title = ISS Common Berthing Mechanism
	@manufacturer = Boeing
	@description = The common berthing mechanism (CBM) is a berthing mechanism used to connect all non-Russian pressurized modules of the International Space Station. It was developed by Boeing at the Marshall Space Flight Center (MSFC) in Huntsville, Alabama while under contract to the National Aeronautics and Space Administration (NASA).

	@MODULE[ModuleDockingNode]
	{
		@nodeType = CBM
		%acquireForce = 0.5
		%acquireMinFwdDot = 0.8
		%acquireminRollDot = -3.40282347E+38
		%acquireRange = 0.25
		%acquireTorque = 0.5
		%captureMaxRvel = 0.1
		%captureMinFwdDot = 0.998
		%captureMinRollDot = -3.40282347E+38
		%captureRange = 0.05
		%minDistanceToReEngage = 0.25
		%undockEjectionForce = 0.1
	}
}

@PART[ht2_BEAM]:FOR[RealismOverhaul]
{
    @mass = 1.413
	@title = Bigelow Expandable Activity Module (BEAM)
	@manufacturer = Bigelow Aerospace
	@description = Experimental expandable space station module developed by Bigelow Aerospace. Includes cargo storage and experiments to test expandable habitat viability.

    MODULE
	{
		name = ModuleFuelTanks
		type = ServiceModule
		volume = 200
		basemass = -1
	}

	MODULE
	{
		name = Habitat
		inflate = BEAM_deploy
		state = enabled
		animBackwards = False
		volume = 16.0
		surface = 31.5
	}

	!MODULE[ModuleAnimateGeneric],* {} // Functionality is replaced by ModuleHabitat
	!MODULE[ModuleScienceExperiment],* {}
}

@PART[ht2_bishop]:FOR[RealismOverhaul]
{
    @mass = 1.059
	@title = Nanoracks Bishop Airlock
	@manufacturer = Nanoracks
	@description = Small airlock used to deploy CubeSats, small satellites, and other external payloads.
}

@PART[ht2_orb]:FOR[RealismOverhaul]
{
    @mass = 3.89
	@title = Prichal
	@manufacturer = RKK Energia
	@description = Nodal module that has a pressurized spherical ball-shaped design with six hybrid docking ports.
}

@PART[ht2_AMS]:FOR[RealismOverhaul]
{
    @mass = 3.89
	@manufacturer = AMS Collaboration
	@description = Detector that measures antimatter in cosmic rays.

    !MODULE[ModuleScienceExperiment],* {}
}

@PART[ht2_orb]:FOR[RealismOverhaul]
{
    @mass = 3.89
	@title = Prichal
	@manufacturer = RKK Energia
	@description = Nodal module that has a pressurized spherical ball-shaped design with six hybrid docking ports.
}



@PART[ht2_moduleColumbus|ht2_moduleDestiny|ht2_moduleHarmony|ht2_moduleKibo|ht2_moduleQuest|ht2_moduleUnity|ht2_moduleLabNode]:NEEDS[ProfileRealismOverhaul]:AFTER[RealismOverhaul]:FOR[KerbalismConfig]
{
	MODULE
	{
		name = ProcessController
		resource = _AdvScrubber
		title = Adv Vac Scrubber
		// 1 capacity = 1 crew output
		capacity = 6
		running = true
	}

	@MODULE[Configure]
	{
		SETUP
		{
			name = Advanced Vacuum Scrubber
			desc = A dual-bed vacuum-exposing regenerative scrubber that sequesters <b>CarbonDioxide</b> from the internal atmosphere. Can work indefinitely.
			tech = improvedLifeSupport
			mass = 0.2 //FIXME
			cost = 25 //FIXME

			MODULE
			{
				type = ProcessController
				id_field = resource
				id_value = _AdvScrubber
			}
		}
	}
}

@PART[ht2_moduleJEMlogistics]:FOR[RealismOverhaul]
{
    MODULE
	{
		name = ModuleKISInventory
		maxVolume = 1200
		externalAccess = true
		internalAccess = true
		slotsX = 3
		slotsY = 2
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
}

@PART[ht2_moduleColumbus]:NEEDS[FeatureComfort]:FOR[Kerbalism]
{
    MODULE
    {
        name = Comfort
        bonus = plants
        desc =  There's something inherently calming about an artificial slice of nature, kept alive only by the miracles of duct-tape and kerbal engineering. Let's hope the crew doesn't think too much about it.
    }

    @tags ^= :$: comfort:
}

@PART[ht2_MPLM]:FOR[RealismOverhaul]
{
    MODULE
	{
		name = ModuleKISInventory
		maxVolume = 2000
		externalAccess = true
		internalAccess = true
		slotsX = 5
		slotsY = 2
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
}

@PART[ht2_truss_Z1|ht2_truss_Z1_v2]:FOR[RealismOverhaul]
{
	%reactionWheelConfigured = true
	@MODULE[ModuleReactionWheel]
	{
		@PitchTorque = 5
		@YawTorque = 5
		@RollTorque = 5

		@RESOURCE[ElectricCharge]
		{
			@rate = 0.8
		}
	}
	%MODULE[ModuleAvionics]
	{
		%massLimit = 800
		%enabledkW = 0.15
		%interplanetary = False
	}
	MODULE
	{
		name = ModuleKISInventory
		maxVolume = 1000
		externalAccess = true
		internalAccess = true
		slotsX = 2
		slotsY = 1
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
}

+PART[ht2_trussPort]:FOR[RealismOverhaul] { @name = JEM_EF_port }
@PART[JEM_EF_port]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 0.5
	@mass = 0.001
	@maxTemp = 1073.15
	@skinMaxTemp = 1073.15
	@title = JEM-EF Experiment Port
	@desc = Docking port to connect experiments to the JEM-EF
	@manufacturer = JAXA

	@MODULE[ModuleDockingNode]
	{
		@nodeType = jemEf
	}

    @MODULE[ModuleCargoPart]
    {
        @packedVolume = 20
    }
}

+PART[airScoop]:FOR[RealismOverhaul] { @name = cubesatEjector }
@PART[cubesatEjector]:FOR[RealismOverhaul]
{
    %RSSROConfig = True
	%rescaleFactor = 0.2
	@mass = 0.001
	@maxTemp = 1073.15
	@skinMaxTemp = 1073.15
	@title = CubeSat Ejector
	@desc = Cubesat ejector port for BEAM
	@manufacturer = Bigelow Aerospace
    @entryCost = 0
	@cost = 10
    @category = Science
    @tags = cubesat ejector nanorack science iss

    !MODULE[ModuleResourceIntake] {}
    !RESOURCE[IntakeAir] {}

    @MODULE[ModuleCargoPart]
    {
        @packedVolume = 10
    }
}

@PART[JEM_EF_port|cubesatEjector]:FOR[xxxRP0]
{
    %TechRequired = largeScaleOrbitalCon
    RP0conf = true
    @description ^=:$: <b><color=green>From HabTech2 mod</color></b>
}