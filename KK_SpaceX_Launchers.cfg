@PART[KK_SPX_*|KK_KK_SPX_*]:FOR[RealismOverhaul]
{
    %RSSROConfig = True
	@manufacturer = SpaceX
    %rescaleFactor = 1
}

@PART[KK_SPX_*|KK_KK_SPX_*]:FOR[xxxRP0]
{
    @description ^=:$: <b><color=green>From KK Launchers SpaceX mod</color></b>
    %entryCost = 600
}

///////////////////// Falcon 9 & Falcon Heavy

@PART[KK_SPX_F9_1875mmPA|KK_SPX_F93_S1tank|KK_SPX_F93_S2tank|KK_SPX_F_nosecone|KK_SpaceX_F9R_nosecone|KK_SPX_FalconPayloadFairing|KK_SPX_F93Heavy_seperator|KK_SpX_FH_SB_attachPart|KK_SPX_F9_Octaweb|KK_SPX_F93_interstage]:FOR[xxxRP0]
{
    RP0conf = true
    %TechRequired = materialsScienceCommercial
}

@PART[KK_SPX_F9LandingLeg|KK_SpX_FRH]:FOR[xxxRP0]
{
    RP0conf = true
    %TechRequired = reusability
}

@PART[KK_SPX_FalconGridfin_FT|KK_KK_SPX_ITS_booster_gridfin|KK_SPX_F9FT_Interstage_RCS]:FOR[xxxRP0]
{
    RP0conf = true
    %TechRequired = gridFins
}

@PART[KK_SPX_Falcon9_FC|KK_SPX_ASDS]:FOR[xxxRP0]
{
    RP0conf = true
    %TechRequired = modernAvionics
}

@PART[KK_SpX_FH_SB_attachPart]:FOR[RealismOverhaul]
{
    @MODULE[ModuleEngines*]
    {
        %ullage = False
        %pressureFed = False
        %ignitions = 1

        @PROPELLANT[SolidFuel]
        {
            @name = HTPB
        }

        @atmosphereCurve
        {
            @key,0 = 0 250
            @key,1 = 1 220
        }
    }

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = HTPB
        volume = 42.7
        basemass = -1

        //  HTPB/AP propellant mixture mass 75.6 Kg.

        TANK
        {
            name = HTPB
            amount = 42.7
            maxAmount = 42.7
        }
    }
    !RESOURCE,*{}
}

@PART[KK_SPX_Falcon9_FC]:FOR[RealismOverhaul]
{
    !MODULE[ModuleKerbNetAccess]{}
    MODULE
	{
		name = ModuleAvionics
		massLimit = 550
	}
}

+PART[KK_SPX_Falcon9_FC]:FOR[RealismOverhaul]
{
    name = KK_SPX_FalconH_FC
    @title = Falcon Heavy Flight Control System
    @description = Flight Control unit for SpaceX Falcon Heavy core booster.

    @MODULE[ModuleAvionics]	{ @massLimit = 1800	}
}

@PART[KK_SpX_FRH]:FOR[RealismOverhaul]
{
    !MODULE[ModuleKerbNetAccess]{}
    !MODULE[ModuleReactionWheel]{}
    !RESOURCE[MonoPropellant] {}

    MODULE
	{
		name = ModuleAvionics
		massLimit = 5
	}

    MODULE
	{
		name = ModuleFuelTanks
		volume = 100
		type = ServiceModule
		basemass = -1
		TANK
		{
			name = Nitrogen
			amount = 20000
			maxAmount = 20000
		}
    }

    @MODULE[ModuleRCSFX],*
	{
		!resourceName = DELETE
		@thrusterPower = 0.4
		PROPELLANT
		{
            name = Nitrogen
            ratio = 1
            DrawGauge = True
		}
		@atmosphereCurve
		{
			@key,0 = 0 195
			@key,1 = 1 100
		}
    }
}

@PART[KK_SpX_FRH|KK_SPX_Falcon9_FC|KK_SPX_FalconH_FC]:BEFORE[RealAntennas]:NEEDS[RealAntennas]
{
	!MODULE[ModuleDataTransmitter],* {}
	!MODULE[ModuleRealAntenna],* {}
	MODULE
	{
		name = ModuleRealAntenna
		referenceGain = 1.5
		RFBand = UHF
	}
}

@PART[KK_SPX_F9LandingLeg]:FOR[RealismOverhaul]
{
	%MODULE[ModuleWheelBase]
	{
		%wheelColliderTransformName = wheelCollider
		%wheelType = LEG
		%adherentStart = 0.2 //0.01
		%frictionAdherent = 79 //3.9
		%peakStart = 0.4 //0.02
		%frictionPeak = 80 //4.0
		%limitStart = 70 //7.0
		%frictionLimit = 80 //4.0
		%FitWheelColliderToMesh = False
		%radius = 1.2 //0.12
		%center = 0,0,0
		%mass = 0.40 //0.040
		%autoFrictionAvailable = False
		%clipObject = piston_collider
		%groundHeightOffset = 1.37
		%autoFriction = False
		%frictionMultiplier = 100 //10
	}
	%MODULE[ModuleWheelBrakes]
	{
		%maxBrakeTorque = 200000
	}
	%MODULE[ModuleDragModifier]
	{
		dragCubeName = Deployed
		dragModifier = 2
	}
	%MODULE[ModuleDragModifier]
	{
		dragCubeName = Retracted
		dragModifier = 0.5
	}
}

@PART[KK_SPX_F9FT_Interstage_RCS]:AFTER[RealismOverhaul]
{
    @MODULE[ModuleRCSFX]
    {
        @thrusterPower = 0.5
    }
}

@PART[KK_SPX_ASDS]:FOR[RealismOverhaul]
{
    %MODULE[ModuleAvionics]
	{
		%massLimit = 150
		%enabledkW = 0.0001
		%interplanetary = False
	}
}

////////////////////  Starship

@PART[KK_SPX_ITS_ship]:FOR[xxxRP0]
{
    RP0conf = true
    %TechRequired = capsulesNF
}

@PART[KK_SPX_ITS_booster_interstage]:FOR[xxxRP0]
{
    RP0conf = true
    %TechRequired = materialsScienceNF
}

@PART[KK_SPX_ITS_booster_RCS|KK_SPX_ITS_ship_flapL|KK_SPX_ITS_ship_flapR]:FOR[xxxRP0]
{
    RP0conf = true
    %TechRequired = flightControlNF
}

@PART[KK_KK_SPX_ITS_booster_gridfin]:FOR[RealismOverhaul]
{
    @description = Gridfin for the SpaceX Super Heavy booster.
    @tags ^=:$: starship bfr spacex super heavy its
}

@PART[KK_SPX_ITS_booster_interstage]:FOR[RealismOverhaul]
{
    @description = Interstage for the SpaceX Super Heavy booster.
    @tags ^=:$: starship bfr spacex super heavy its

    !MODULE[ModuleKerbNetAccess] {}

    MODULE
	{
		name = ModuleAvionics
		massLimit = 5500.0
		toggleable = true
		disabledkW = 0.02
	}
}

@PART[KK_SPX_ITS_booster_RCS]:FOR[RealismOverhaul]
{
    @description = RCS for the SpaceX Super Heavy booster.
    @tags ^=:$: starship bfr spacex super heavy its

    @MODULE[ModuleRCS]
	{
        @thrusterPower = 20.344
        !PROPELLANT[*],* {}
        PROPELLANT
        {
            name = LqdMethane
            ratio = 0.42446
        }
        PROPELLANT
        {
            name = LqdOxygen
            ratio = 0.57554
        }
        !atmosphereCurve {}
        atmosphereCurve
        {
            key = 0 330
            key = 1 300
        }
    }
}

@PART[KK_SPX_ITS_ship_flapL]:FOR[RealismOverhaul]
{
    @description = Left control flap for SpaceX Starship.
    @tags ^=:$: starship bfr spacex its
}

@PART[KK_SPX_ITS_ship_flapR]:FOR[RealismOverhaul]
{
    @description = Right control flap for SpaceX Starship.
    @tags ^=:$: starship bfr spacex its
}

@PART[KK_SPX_ITS_ship_flap*]:AFTER[RealismOverhaul]
{
    @maxTemp = 3000
}

@PART[KK_SPX_ITS_ship]:FOR[RealismOverhaul]
{
    @description = SpaceX Starship
    @mass = 100
    @tags ^=:$: starship bfr spacex its
    @CrewCapacity = 30

    %MODULE[Habitat]
	{
        //%area = 1541
		%volume = 500
	}
    MODULE
    {
        name = Sensor
        type = temperature
    }
    MODULE
    {
    name = Sensor
        type = radiation
    }
    MODULE
    {
        name = Sensor
        type = habitat_radiation
    }

    !MODULE[ModuleConnectedLivingSpace],*{}
    MODULE:NEEDS[ConnectedLivingSpace]
    {
        name = ModuleConnectedLivingSpace
        passable = True
    }

    MODULE
	{
		name = ModuleAvionics
		massLimit = 1600.0
		toggleable = true
		disabledkW = 0.02
	}

    !RESOURCE[LiquidFuel] {}
    !RESOURCE[Oxidizer] {}
    !RESOURCE[MonoPropellant] {}
    !RESOURCE[XenonGas] {}
    !RESOURCE[Ore] {}
    !MODULE[ModuleScienceExperiment] {}
    !MODULE[ModuleScienceContainer] {}


    !MODULE[ModuleRCSFX] {}
    @MODULE[ModuleRCS]
	{
        @thrusterPower = 20.344
        !PROPELLANT[*],* {}
        PROPELLANT
        {
            name = LqdMethane
            ratio = 0.42446
        }
        PROPELLANT
        {
            name = LqdOxygen
            ratio = 0.57554
        }
        !atmosphereCurve {}
        atmosphereCurve
        {
            key = 0 330
            key = 1 300
        }
    }

    MODULE
	{
		name = ModuleFuelTanks
		basemass = -1
		volume = 3000000
		type = ServiceModule
    }

    MODULE
	{
		name = ModuleKISInventory
		maxVolume = 10000
		externalAccess = true
		internalAccess = true
		slotsX = 8
		slotsY = 5
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
}

@PART[KK_SPX_ITS_ship]:AFTER[RealismOverhaul]
{
    @maxTemp = 2400
	@skinMaxTemp = 3800
}

