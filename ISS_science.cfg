///// AMS https://en.wikipedia.org/wiki/Alpha_Magnetic_Spectrometer

EXPERIMENT_DEFINITION
{
	id = AMS
	title = Alpha Magnetic Spectrometer Experiment
	baseValue = 80
	scienceCap = 80
	dataScale = 1

	requireAtmosphere = False
	requireNoAtmosphere = True
	situationMask = 48 //Only valid in space low and in space high.
	biomeMask = 0

	RESULTS
	{
		default = The spectrometer records numerous charged particle events.
	}
}

///////////// Example

// ============================================================================
// Infrared Radiometry 4, PMIRR on Mars Observer
// ============================================================================
EXPERIMENT_DEFINITION
{
    id = RP0infraredRad4
    title = Infrared Radiometer 4
    baseValue = 6
    scienceCap = 6
    dataScale = 202.176 //26 B/s
    requireAtmosphere = False
    situationMask = 48
    biomeMask = 48

    RESULTS
    {
        default = The radiant temperature is recorded by measuring the Infrared light.
    }
    KERBALISM_EXPERIMENT
    {
		// sample mass in tons. if undefined or 0, the experiment produce a file
		SampleMass =
		IncludeExperiment =
    }
}
//ROK
@PART[*]:HAS[@MODULE[ModuleScienceExperiment]:HAS[#experimentID[RP0infraredRad4]]]:FOR[RP-0-Kerbalism]
{
	!MODULE[ModuleScienceExperiment]:HAS[#experimentID[RP0infraredRad4]]	{}
	MODULE
	{
		name = Experiment
		experiment_id = RP0infraredRad4
		anim_deploy = shutterDeploy
	}
}

@PART[*]:HAS[@MODULE[Experiment]]:AFTER[RP-0-Kerbalism]
{
	@MODULE[Experiment]:HAS[#experiment_id[RP0infraredRad4]]
	{
		%ec_rate = 0.0341
		%data_rate = 202.176 //26 B/s
		@data_rate /= 7776000 //3 months
		%requires =
		%resources =
		allow_shrouded = false
	}
}



///////////// current on AMS

MODULE
	{
		name = ModuleScienceExperiment
		experimentID = AMS
		experimentActionName = Run Alpha Magnetic Spectrometer
		resetActionName = #autoLOC_502049 //#autoLOC_502049 = Discard Data
		reviewActionName = #autoLOC_502204 //#autoLOC_502204 = Review Data
		useStaging = False
		useActionGroups = True
		hideUIwhenUnavailable = False
		xmitDataScalar = 0.6
		dataIsCollectable = True
		collectActionName = #autoLOC_6004056 //#autoLOC_6004056 = Download Data
		interactionRange = 1.5
		rerunnable = True
		usageReqMaskInternal = 1
		usageReqMaskExternal = 8
		availableShielded = false
	}